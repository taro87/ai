DROP TABLE MEMBER;
--DROP TABLE MEMBER_LAVEL;
CREATE TABLE MEMBER(
    mNO NUMBER(3) PRIMARY KEY,
  mNAME VARCHAR2(20) NOT NULL,
    mPW VARCHAR2(8) UNIQUE,
 mEMAIL VARCHAR2(40) UNIQUE,
 mPOINT NUMBER(9) CHECK(mPOINT>=0),
 mRDATE DATE DEFAULT SYSDATE,
 LEVELNO NUMBER(2),
 FOREIGN KEY(LEVELNO) REFERENCES MEMBER_LEVEL(LEVELNO)
);
CREATE TABLE MEMBER_LEVEL(
 LEVELNO NUMBER(2) PRIMARY KEY,
 LEVELNAME VARCHAR2(20) NOT NULL
 );
 SELECT * FROM MEMBER;
 SELECT * FROM MEMBER_LEVEL;
INSERT INTO MEMBER(mNO, mNAME, mPW, mEMAIL, mPOINT, mRDATE, LEVELNO) 
VALUES (1,'홍길동','aa','hong@hong.com',0,'24/09/26',0);
INSERT INTO MEMBER(mNO, mNAME, mPW, mEMAIL, mPOINT, mRDATE, LEVELNO) 
VALUES (2,'신길동','bb','sin@sin.com',1000,'22/04/01',1);
INSERT INTO MEMBER_LEVEL(LEVELNO, LEVELNAME) VALUES (-1,'black');
INSERT INTO MEMBER_LEVEL(LEVELNO, LEVELNAME) VALUES (0,'일반');
INSERT INTO MEMBER_LEVEL(LEVELNO, LEVELNAME) VALUES (1,'실버');
INSERT INTO MEMBER_LEVEL(LEVELNO, LEVELNAME) VALUES (2,'골드');
CREATE SEQUENCE MEMBER_MNO_SQ MAXVALUE 99999 NOCACHE NOCYCLE;
UPDATE MEMBER_LEVEL SET LEVELNAME='일반고객' WHERE LEVELNAME='일반';
UPDATE MEMBER_LEVEL SET LEVELNAME='실버고객' WHERE LEVELNAME='실버';
SELECT mNO, mNAME, TO_CHAR(mRDATE, 'YYYY-MM-DD'), mEMAIL, mPOINT POINT, LEVELNAME
FROM MEMBER M, MEMBER_LEVEL L
WHERE M.LEVELNO = L.LEVELNO;
COMMIT;